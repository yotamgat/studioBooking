# הוראות הפעלה - מערכת הזמנות לסטודיו ריקוד

## הבעיה שמצאנו
אוסף המסמכים 'studios' ריק במסד הנתונים, לכן הדף לא מציג כלום.

---

## הפתרון המהיר (חצי דקה)

### שלב 1: הרצת תסריט הנתונים

פתח חלון פקודות (טרמינל) בתיקיית הפרויקט והקלד:

```bash
node scripts/seed.js
```

### שלב 2: מה אמור להופיע

אמורה להופיע הודעה כזו:

```
🔌 מתחבר למסד הנתונים...
נמצא כתובת חיבור: כן
✅ החיבור הצליח
🗑️  מנקה נתונים קיימים...
📦 יוצר חללים חדשים...

✅ הפעולה הסתיימה בהצלחה!

📊 נוצרו החללים הבאים:

   חלל ריקוד 1 - האולם הגדול
   - מזהה: 67a8f9b2c3d4e5f6a7b8c9d0
   - תמונות: 3
   - מחירונים: 3
   - מחיר בסיסי: 150 ש"ח לשעה
   - קיבולת: 25 איש
   - גודל: 80 מ"ר

   חלל ריקוד 2 - האולם האינטימי
   - מזהה: 67a8f9b2c3d4e5f6a7b8c9d1
   - תמונות: 3
   - מחירונים: 3
   - מחיר בסיסי: 120 ש"ח לשעה
   - קיבולת: 15 איש
   - גודל: 50 מ"ר

✨ מסד הנתונים מוכן לשימוש!
```

### שלב 3: בדיקה במסד הנתונים

1. פתח את תוכנת MongoDB Compass
2. רענן את התצוגה (לחץ F5)
3. פתח את מסד הנתונים 'studio-booking'
4. פתח את האוסף 'studios'
5. **אמורים להיות שם 2 מסמכים**

### שלב 4: בדיקה בדפדפן

**בדיקת ממשק התכנות:**
פתח בדפדפן את הכתובת: http://localhost:3000/api/studios

אמור להופיע משהו כזה:
```json
{
  "success": true,
  "data": [
    {
      "_id": "...",
      "name": "חלל ריקוד 1 - האולם הגדול",
      "description": "חלל מרווח ומקצועי לריקוד ותנועה",
      "images": ["...", "...", "..."],
      "pricingTiers": [...]
    },
    ...
  ]
}
```

**בדיקת דף ההזמנה:**
פתח את הכתובת: http://localhost:3000/booking

**אמורים להופיע 2 כרטיסים גדולים עם תמונות של החללים!**

---

## אם משהו לא עובד

### שגיאה: "לא נמצאה כתובת חיבור"

הקובץ `.env.local` לא קיים או שחסר בו המשתנה MONGODB_URI

**פתרון:**
צור קובץ בשם `.env.local` בתיקייה הראשית של הפרויקט ושים בו:

```
MONGODB_URI=mongodb://localhost:27017/studio-booking
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=סיסמה-חזקה-כלשהי
```

### שגיאה: "אימות נכשל"

הסיסמה בכתובת החיבור שגויה.

**פתרון:**
בדוק את הכתובת שבקובץ `.env.local` וודא שהסיסמה נכונה.

### שגיאה: "החיבור נדחה"

מסד הנתונים מונגו לא פועל במחשב.

**פתרון במק:**
```bash
brew services start mongodb-community
```

**פתרון בחלונות:**
פתח את לוח השירותים וודא שהשירות MongoDB פועל.

---

## רשימת בדיקות

סמן V ליד כל שלב שעבר בהצלחה:

- [ ] התסריט רץ בהצלחה (ראיתי "הפעולה הסתיימה בהצלחה")
- [ ] יש 2 מסמכים באוסף studios בתוכנת Compass
- [ ] הכתובת http://localhost:3000/api/studios מחזירה 2 חללים
- [ ] הכתובת http://localhost:3000/booking מציגה 2 כרטיסים עם תמונות

**אם כל אלה עברו - המערכת עובדת!** 🎉

---

## למה זה קרה?

בגרסה הקודמת של תסריט הנתונים היו בעיות טכניות:
- התסריט לא חיכה לחיבור למסד הנתונים
- מבנה הנתונים לא התאים למודל
- טיפול בשגיאות לא היה מספיק טוב

כל הבעיות תוקנו בגרסה החדשה.
